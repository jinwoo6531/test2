(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Site"],{1121:function(t,i,s){t.exports=s.p+"img/person-count.cfc8a3f9.svg"},1356:function(t,i,s){t.exports=s.p+"img/end-icon.62451c2c.svg"},1951:function(t,i,s){t.exports=s.p+"img/vehicle1.bde9d65c.svg"},"21e6":function(t,i,s){"use strict";var a=s("2e9a"),e=s.n(a);e.a},"2e9a":function(t,i,s){},"37c8":function(t,i,s){t.exports=s.p+"img/switch-icon.8b411d7c.svg"},"738b":function(t,i,s){"use strict";var a=s("bb1d"),e=s.n(a);e.a},8611:function(t,i,s){t.exports=s.p+"img/time-icon.4ffd6bdc.svg"},"9d2a":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACvSURBVHgBpVOxDQMhDMQUzEGBEGOEUTJZRiFjUCDFc1Cg2BEorw+Yl3LNw+M77jCA9/6lCLXWiAS1QQjBttYSj3X/Z40xyRIuEj91mhDpizuBExHZKawWjhFW67ArkIRBskbjO8V6rBzBJtsAzrrxQ2Y45260YxpzEoullOe5Ts927la/RTSfdUELljmz2Ea9InJGtirdg//6vCNKAtAfhkhcCYzMeOVV5ZzxcAbqDRdU1Pt4RZj/AAAAAElFTkSuQmCC"},"9f56":function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{attrs:{id:"site"}},[t.loading?a("v-container",{staticClass:"map-loading",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-card",{attrs:{color:"transparent",flat:""}},[a("v-card-text",{staticClass:"text-center"},[a("v-progress-circular",{attrs:{indeterminate:"",size:"50",color:"#E61773"}})],1),a("v-card-text",{staticClass:"text-center",staticStyle:{color:"#fff"}},[t._v("페이지 불러오는 중...")])],1)],1)],1):t._e(),1==t.getLocationLoading?a("v-container",{staticClass:"locat-loading",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-card",{attrs:{color:"#FFF",flat:""}},[a("v-card-text",{staticClass:"text-center"},[a("v-progress-circular",{attrs:{indeterminate:"",size:"50",color:"#E61773"}})],1),a("v-card-text",{staticClass:"text-center",staticStyle:{color:"#e61773"}},[t._v("위치 받아오는 중...")])],1)],1)],1):t._e(),1==t.can?a("v-container",{staticClass:"cantServiceModal",attrs:{fluid:"",color:"transparent"}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-card",{staticClass:"cantServiceCard",attrs:{flat:"",tile:""}},[a("v-card-text",{staticClass:"text-center pa-0"},[a("img",{staticStyle:{"padding-top":"20px"},attrs:{src:s("afb7")}}),a("p",{staticClass:"soFarMsg"},[t._v(" 이 곳은 타시오 운행지역에서 너무 멀어요! ")]),a("p",{staticClass:"warningmsg"},[t._v(" 셔틀이 출발지에 도착한 뒤 탑승이 완료되지 않으면 ")]),a("p",{staticClass:"warningmsg"},[a("span",{staticClass:"warningmsg-font"},[t._v("호출이 자동 취소")]),t._v("됩니다. ")]),a("v-btn",{staticClass:"pa-0 pl-3 pr-3 goReturn",attrs:{tile:"",depressed:"",color:"#E61773",ripple:!1},on:{click:t.goBackSite}},[t._v("운행지역 지도로 돌아가기")])],1)],1)],1)],1):t._e(),a("v-container",{staticClass:"map-container pa-0 ma-0 flex-wrap",attrs:{fluid:"","justify-center":"","grid-list-md":"","fill-height":""}},[a("v-layout",{staticClass:"ma-0",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pa-0 persentH"},[a("v-card",{staticClass:"pa-0 ma-0",staticStyle:{width:"100% height: 100%"},attrs:{id:"map-container",outlined:"",tile:""}})],1),a("v-flex",{staticClass:"pa-0 selectBox",attrs:{xs12:"",sm12:"",md12:""}},[a("v-flex",{staticClass:"pa-4 pt-0",attrs:{xs12:"",sm12:"",md12:""}},[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:t._u([{key:"activator",fn:function(i){var e=i.on;return[a("span",{staticStyle:{display:"inline-block",width:"70%"}},[a("v-btn",t._g({staticClass:"pa-0 person-modal",attrs:{color:"#fff",ripple:!1}},e),[a("img",{attrs:{src:s("1121")}}),t.totalCount>=1?a("span",{staticStyle:{"padding-left":"0.75rem"}},[t._v("탑승인원 "+t._s(t.totalCount)+"명")]):a("span",{staticStyle:{color:"#262626","padding-left":"0.75rem","letter-spacing":"0.5px"}},[t._v("탑승인원 선택")])])],1)]}}]),model:{value:t.dialog,callback:function(i){t.dialog=i},expression:"dialog"}},[a("v-card",{staticClass:"persentH",staticStyle:{position:"absolute"}},[a("v-toolbar",{staticStyle:{position:"fixed",width:"100%",top:"0","z-index":"3"},attrs:{color:"transparent",flat:""}},[a("v-btn",{attrs:{icon:""},on:{click:t.closePersonDialog}},[a("v-icon",{attrs:{color:"#262626"}},[t._v("mdi-close")])],1)],1),a("v-container",{staticClass:"pa-0 ma-0 flex-wrap",staticStyle:{position:"absolute",background:"transparent"},attrs:{fluid:"","fill-height":""}},[a("v-row",{staticClass:"ma-0",attrs:{align:"center",justify:"center"}},[a("v-card-text",{staticClass:"select-person-title"},[t._v("탑승인원 선택")]),a("v-card-text",{staticClass:"select-max-title mb-5"},[t._v("탑승인원은 최대 14명까지 선택 가능합니다.")]),a("div",{staticClass:"tabs"},[a("v-card",{staticClass:"d-flex justify-space-around mb-5",attrs:{flat:""}},[a("v-card-text",{staticClass:"select-max"},[t._v("일반"),a("br"),t._v("(1회 1,500원)")]),a("v-card",{attrs:{ripple:!1,flat:"",tile:""}},[a("v-btn",{attrs:{disabled:t.isDisabled_adult_minus,ripple:!1,outlined:"",color:"#E61773",fab:"",width:"2.177rem",height:"2.177rem"},on:{click:t.adultDecrement}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-minus")])],1)],1),a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",{staticClass:"count"},[t._v(t._s(t.adultCount))])],1),a("v-card",{attrs:{flat:"",tile:"",ripple:!1}},[a("v-btn",{attrs:{disabled:t.isDisabled_adult_plus,ripple:!1,outlined:"",color:"#E61773",fab:"",width:"2.177rem",height:"2.177rem"},on:{click:t.adultIncrement}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1)],1),a("v-card",{staticClass:"d-flex justify-space-around mb-5",attrs:{flat:""}},[a("v-card-text",{staticClass:"select-max"},[t._v("청소년/어린이"),a("br"),t._v("(1회 1,050원)")]),a("v-card",{attrs:{ripple:!1,flat:"",tile:""}},[a("v-btn",{attrs:{disabled:t.isDisabled_child_minus,ripple:!1,outlined:"",color:"#E61773",fab:"",width:"2.177rem",height:"2.177rem"},on:{click:t.childDecrement}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-minus")])],1)],1),a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",{staticClass:"count"},[t._v(t._s(t.childCount))])],1),a("v-card",{attrs:{flat:"",tile:"",ripple:!1}},[a("v-btn",{attrs:{disabled:t.isDisabled_child_plus,ripple:!1,outlined:"",color:"#E61773",fab:"",width:"2.177rem",height:"2.177rem"},on:{click:t.childIncrement}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1)],1),a("v-card",{staticClass:"d-flex justify-space-around mb-10",attrs:{flat:""}},[a("v-card-text",{staticClass:"select-max"},[t._v("유아"),a("br"),t._v("(만6세 미만 무료)")]),a("v-card",{attrs:{ripple:!1,flat:"",tile:""}},[a("v-btn",{attrs:{disabled:t.isDisabled_baby_minus,ripple:!1,outlined:"",color:"#E61773",fab:"",width:"2.177rem",height:"2.177rem"},on:{click:t.babyDecrement}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-minus")])],1)],1),a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",{staticClass:"count"},[t._v(t._s(t.babyCount))])],1),a("v-card",{attrs:{flat:"",tile:"",ripple:!1}},[a("v-btn",{attrs:{disabled:t.isDisabled_baby_plus,ripple:!1,outlined:"",color:"#E61773",fab:"",width:"2.177rem",height:"2.177rem"},on:{click:t.babyIncrement}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1)],1)],1),a("div",{staticClass:"total_payment"},[a("div",{staticClass:"payment-amount"},[a("span",[t._v("결제 금액")]),a("p",{staticClass:"\n                        [totalPayment\n                        ===\n                        0\n                        ?\n                        {color:\n                        '#E61773'}\n                        :\n                        {color:\n                        '#555555'}]\n                      "},[t._v(" "+t._s(t.totalPayment)+"원 ")])]),t.adultList||t.childList||t.babyList?t._e():a("div",{staticClass:"nonSelected"},[a("span",[t._v("수량")]),a("span",[t._v("총"+t._s(t.totalCount)+"매 선택")])]),t.adultList||t.childList||t.babyList?a("div",{staticClass:"selected"},[a("p",{staticClass:"sum"},[t._v(" 수량 "),a("span",[t._v("총"+t._s(t.totalCount)+"매 선택")])]),a("br"),a("div",[!t.adultList?t._e():a("div",{staticClass:"sumList"},[a("div",[t._v(" 일반"+t._s(t.adultCount)+" ")]),a("div",[a("p",[t._v(" "+t._s(1500*t.adultCount)+"원 ")])])]),a("br"),!t.childList?t._e():a("div",{staticClass:"sumList"},[a("div",[t._v(" 청소년/어린이"+t._s(t.childCount)+" ")]),a("div",[a("p",[t._v(" "+t._s(1050*t.childCount)+"원 ")])])]),a("br"),!t.babyList?t._e():a("div",{staticClass:"sumList"},[a("div",[t._v(" 유아"+t._s(t.babyCount)+" ")]),a("p",[t._v("0원")])])])]):t._e()]),a("br")],1)],1),a("v-btn",{staticClass:"select-person-btn",attrs:{disabled:!t.adultList&&!t.childList&&!t.babyList,depressed:"",tile:""},on:{click:t.rideCount}},[t._v("선택완료")])],1)],1),t.callBtn?a("span",{staticStyle:{display:"inline-block",width:"70%"}},[a("v-flex",{staticClass:"mb-3 spendTime-wrap"},[a("p",{staticClass:"ma-0",staticStyle:{color:"#fff",height:"1.875rem"}},[a("span",{staticStyle:{display:"inline-block",height:"100%"}},[a("img",{staticClass:"pl-3 pr-3",staticStyle:{"vertical-align":"middle"},attrs:{src:s("8611")}}),a("span",{staticClass:"spendTime"},[t._v(" 소요시간: "),a("span",{staticStyle:{"font-weight":"500","font-size":"1.125rem","padding-right":"0.75rem",color:"#ffffff"}},[t._v("약 "+t._s(t.minutes)+"분")])])])])])],1):t._e(),a("v-card",{staticStyle:{display:"inline-block",float:"right"},attrs:{ripple:!1,color:"transparent",flat:""}},[a("v-card",{attrs:{ripple:!1,color:"transparent",flat:""},on:{click:function(i){t.res?t.getLocation():t.stopLocation()}}},[a("v-btn",{staticStyle:{},attrs:{ripple:!1,fab:"",small:"",color:"#FFF"}},[a("v-icon",{attrs:{color:"#666666"}},[t._v("mdi-crosshairs-gps")])],1)],1)],1),a("v-overlay",{attrs:{"z-index":t.zIndex,value:t.daegu_timetable_popup}},[a("v-card",{staticClass:"stationModal-card-size",attrs:{color:"#FFF"}},[a("v-card-text",{staticClass:"pa-0 stationModal-card-title"},[a("span",{staticClass:"select-modal-btn"},[t._v("시간표")]),a("v-btn",{staticClass:"closing-button",attrs:{color:"#FFF"},on:{click:function(i){t.daegu_timetable_popup=!1,t.pickedTime=""}}},[a("img",{attrs:{src:s("9d2a")}})])],1),a("v-divider",{staticClass:"divider-style"}),a("v-card",{staticClass:"pa-0 stationModal-card-content",attrs:{color:"#FFF",tile:"",flat:""}},[a("v-list",{staticStyle:{padding:"0.5rem 0 22px 0"},attrs:{light:"",tile:""}},[a("v-list-item-group",{attrs:{color:"#E61773"}},t._l(t.timeTable,(function(i,s){return a("v-list-item",{key:i.id,staticClass:"pa-0",on:{click:function(a){return t.selectRoundingBtn(i,s)}}},[a("v-list-item-content",[a("v-list-item-title",{staticStyle:{color:"#333"},domProps:{textContent:t._s(i)}})],1)],1)})),1)],1)],1),a("v-card-actions",{staticClass:"pa-0",staticStyle:{width:"100%",height:"3.125rem"}},[t.rule?a("v-btn",{staticClass:"pa-0 ma-0 onChangeBtn",attrs:{tile:"",depressed:"",color:"#E61773"},on:{click:function(i){t.start_station_popup=!t.start_station_popup}}},[t._v("선택하기")]):t._e(),t.rule?a("v-btn",{staticClass:"pa-0 ma-0 onCancelBtn",attrs:{tile:"",depressed:"",color:"#FFF"},on:{click:function(i){t.daegu_timetable_popup=!1,t.pickedTime=""}}},[t._v("취소")]):t._e(),t.ok?a("v-card-text",{staticClass:"pa-4",staticStyle:{color:"#fff","text-align":"center",backgroundColor:"#e61773","font-weight":"600"},attrs:{tile:"",depressed:""}},[t._v(" 이미 지난 회차는 선택할 수 없습니다.")]):t.rule?t._e():a("v-card-text",{staticClass:"pa-3"},[a("span",{staticStyle:{color:"#e61773"}},[t._v("원하시는 시간을 선택해 주세요.")])])],1)],1)],1),a("v-overlay",{attrs:{"z-index":t.zIndex,value:t.start_station_popup}},[a("v-card",{staticClass:"stationModal-card-size",attrs:{color:"#FFF"}},[a("v-card-text",{staticClass:"pa-0 stationModal-card-title"},[a("span",{staticClass:"select-modal-btn"},[t._v("출발지")])]),a("v-divider",{staticClass:"divider-style"}),a("v-card",{staticClass:"pa-0 stationModal-card-content",attrs:{color:"#FFF",tile:"",flat:""}},[a("v-list",{staticStyle:{padding:"0.5rem 0 22px 0"},attrs:{light:"",tile:""}},[a("v-list-item-group",{attrs:{color:"#E61773"}},t._l(t.start_options,(function(i){return a("v-list-item",{key:i.id,staticClass:"pa-0",class:{"v-list-item--active":t.pickedStation==i},on:{click:function(s){t.pickedStation=i}}},[a("v-list-item-content",[a("v-list-item-title",{staticStyle:{color:"#333"},domProps:{textContent:t._s(i.name)}})],1)],1)})),1)],1)],1),a("v-card-actions",{staticClass:"pa-0",staticStyle:{width:"100%",height:"3.125rem"}},[a("v-btn",{staticClass:"pa-0 ma-0 onCancelBtn",attrs:{tile:"",depressed:"",color:"#FFF"},on:{click:function(i){t.start_station_popup=!1,t.pickedStation=""}}},[t._v("이전")]),a("v-btn",{staticClass:"pa-0 ma-0 onChangeBtn",attrs:{tile:"",depressed:"",color:"#E61773"},on:{click:function(i){t.pickStation(t.isStart=!0)}}},[t._v("선택하기")])],1)],1)],1),a("v-overlay",{attrs:{"z-index":t.zIndex,value:t.destination_popup}},[a("v-card",{staticClass:"stationModal-card-wrap; stationModal-card-size",attrs:{color:"#FFF"}},[a("v-card-text",{staticClass:"pa-0 stationModal-card-title"},[a("span",{staticClass:"select-modal-btn"},[t._v("도착지")])]),a("v-divider",{staticClass:"divider-style"}),a("v-card",{staticClass:"pa-0 stationModal-card-content",attrs:{color:"#FFF",tile:"",flat:""}},[a("v-list",{staticStyle:{padding:"0.5rem 0 22px 0",width:"100%"},attrs:{light:"",tile:""}},[a("v-list-item-group",{attrs:{color:"#E61773"}},t._l(t.end_options,(function(i){return a("v-list-item",{key:i.id,staticClass:"pa-0",class:{"v-list-item--active":t.pickedStation==i},on:{click:function(s){t.pickedStation=i}}},[a("v-list-item-content",[a("v-list-item-title",{staticStyle:{color:"#333"},domProps:{textContent:t._s(i.name)}})],1)],1)})),1)],1)],1),a("v-card-actions",{staticClass:"pa-0",staticStyle:{width:"100%",height:"3.125rem"}},[a("v-btn",{staticClass:"pa-0 ma-0 onCancelBtn",attrs:{tile:"",depressed:"",color:"#FFF"},on:{click:function(i){t.destination_popup=!1,t.pickedStation=""}}},[t._v("취소")]),a("v-btn",{staticClass:"pa-0 ma-0 onChangeBtn",attrs:{tile:"",depressed:"",color:"#E61773"},on:{click:function(i){t.pickStation(t.isStart=!1)}}},[t._v("선택하기")])],1)],1)],1),a("v-flex",{staticClass:"selectStationWrap",attrs:{xs12:"",sm12:"",md12:""}},[a("v-layout",{staticClass:"d-flex align-center ma-0",attrs:{"fill-height":"",xs12:"",sm12:""}},[a("v-flex",{staticClass:"pa-0",attrs:{xs2:"",sm2:"",md2:""}},[a("img",{attrs:{src:s("e235")}})]),a("v-flex",{staticClass:"pa-0 flex-wrap",attrs:{xs8:"",sm8:"",md8:""}},[a("div",{staticClass:"d-flex flex-column"},[a("v-card",{staticClass:"pl-2",staticStyle:{"text-align":"left"},attrs:{ripple:!1,color:"transparent",flat:""},on:{click:function(i){t.daegu_timetable_popup=!t.daegu_timetable_popup}}},[t.start.id<0?a("span",{staticClass:"select_station"},[t._v("출발지 선택하기")]):a("span",{staticClass:"sel_station"},[t._v(t._s(t.start.name))])]),a("span",{staticClass:"divide-bar mt-2 mb-2"}),a("v-card",{staticClass:"pl-2",staticStyle:{"text-align":"left"},attrs:{ripple:!1,color:"transparent",flat:""},on:{click:function(i){t.destination_popup=!t.destination_popup}}},[t.end.id<0?a("span",{staticClass:"select_station"},[t._v("도착지 선택하기")]):a("span",{staticClass:"sel_station"},[t._v(t._s(t.end.name))])])],1)]),a("v-flex",{staticClass:"pa-0",attrs:{xs2:"",sm2:"",md2:""},on:{click:t.swapDestination}},[a("img",{attrs:{src:s("37c8")}})])],1)],1)],1),t.callBtn&&t.adultCount>0||t.childCount>0?a("v-flex",{staticClass:"pa-0 mt-1"},[a("v-btn",{staticClass:"pa-0 call-dialog-btn",attrs:{color:"#E61773",tile:"",depressed:"",width:"100%",height:"3.125rem"},on:{click:t.requestPay}},[t._v(t._s(t.totalPayment)+"원 결제하기")])],1):t._e(),t.callBtn&&0===t.adultCount&&0===t.childCount?a("v-flex",{staticClass:"pa-0 mt-1"},[a("v-btn",{staticClass:"pa-0 call-dialog-btn",attrs:{color:"#E61773",tile:"",depressed:"",width:"100%",height:"3.125rem"}},[t._v("보호자와 함께 탑승해주세요.")])],1):t._e()],1)],1)],1)],1)},e=[],n=(s("99af"),s("4de4"),s("4160"),s("d81d"),s("fb6a"),s("b0c0"),s("a9e3"),s("b680"),s("d3b7"),s("ac1f"),s("25f0"),s("5319"),s("159b"),s("96cf"),s("1da1")),o=s("b85c"),l=s("5530"),r=s("2f62"),c=s("bc3a"),d=s.n(c);function u(t,i,s,a){var e=i-a,n=Math.sin(h(t))*Math.sin(h(s))+Math.cos(h(t))*Math.cos(h(s))*Math.cos(h(e));return n=Math.acos(n),n=p(n),n=60*n*1.1515,n*=1.609344,Number(1e3*n).toFixed(2)}function h(t){return t*Math.PI/180}function p(t){return 180*t/Math.PI}var m,v,_={},b={},g={data:function(){return{map:null,OSMUrl:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",currentlocation:{lat:"",lon:""},time_start:[],loading:2,getLocationLoading:!1,timeTable:[],stationList:[],waypoints2:[],waypoints:[],timestamp:new Date,hour:"0",min:"0",timeTest:["19:00","20:00"],rule:!1,ok:!1,vehicle:{},vehicle_id:0,dialog:!1,callBtn:!1,totalCount:0,babyList:!1,childList:!1,adultList:!1,ordinary:0,station_seq:0,destination:"",ticket_type:0,test:0,babyCount:0,adultCount:0,childCount:0,isDisabled_adult_minus:!0,isDisabled_adult_plus:!1,isDisabled_child_minus:!0,isDisabled_child_plus:!1,isDisabled_baby_minus:!0,isDisabled_baby_plus:!1,zIndex:10,start_station_popup:!1,destination_popup:!1,daegu_timetable_popup:!1,start:{id:-1,name:"start",points_idx:-1,stat2sta:""},end:{id:-1,name:"end",points_idx:-1,stat2sta:""},pickedStation:"",pickedTime:"",startIcon:"",endIcon:"",options:[],can:!1,res:!0,usermarker:"",success:!0,minutes:0,calldialog:!1,meth:"191029079116",pay_method:"card",mapInfo:{1:{name:"gunsan",setPoints:[35.812484,126.4101],zoom:15},2:{name:"daegu",setPoints:[35.836673,128.68652],zoom:15},3:{name:"sejong",setPoints:[36.599351,127.270606],zoom:15},4:{name:"sangam",setPoints:[37.5792,126.8917],zoom:15},24:{name:"yeosu",setPoints:[34.7477,127.7502],zoom:15},18:{name:"sejong_Rfree",setPoints:[36.4945,127.3274],zoom:15}},points:{1:[],2:[{lat:35.836308,lon:128.681547,type:6},{lat:35.838673,lon:128.687892,type:6},{lat:35.83705,lon:128.690044,type:6},{lat:35.83459,lon:128.68652,type:6},{lat:35.836308,lon:128.681547,type:6}],3:[{lat:36.499351,lon:127.270606,type:6},{lat:36.50169,lon:127.272315,type:6}],4:[{lat:37.579333,lon:126.889036,type:6},{lat:37.57518,lon:126.89837,type:6},{lat:37.58299,lon:126.88485,type:6},{lat:37.581296,lon:126.885693,type:6},{lat:37.579333,lon:126.889036,type:6}],18:[{lat:36.49791,lon:127.33019,type:3},{lat:36.495534,lon:127.32989,type:2},{lat:36.495534,lon:127.330257,type:3},{lat:36.49529,lon:127.33077,type:2},{lat:36.49456,lon:127.32574,type:2},{lat:36.49819,lon:127.3258,type:3},{lat:36.49918,lon:127.3277,type:6}],24:[{lat:34.75244,lon:127.74858,type:6},{lat:34.74992,lon:127.74839,type:6},{lat:34.74609,lon:127.7483,type:6},{lat:34.74237,lon:127.75365,type:6},{lat:34.74231,lon:127.75395,type:2},{lat:34.74605,lon:127.75146,type:6}]},movingVehicle:"",routePoints:[],markerData:""}},computed:Object(l["a"])({},Object(r["b"])({user:"user"}),{getPhoneNumber:function(){var t=String(this.user.data.phoneNumber).substring(3,5),i=String(this.user.data.phoneNumber).substring(5,9),s=String(this.user.data.phoneNumber).substring(9,13);return"0"+t+"-"+i+"-"+s},totalPayment:function(){var t=1500*this.adultCount+1050*this.childCount+0*this.babyCount;return t=parseInt(t,10),t.toLocaleString()},start_options:function(){var t=this;return this.stationList.filter((function(i){return i.id!=t.end.id}))},end_options:function(){var t=this;return this.stationList.filter((function(i){return i.id!=t.start.id}))}}),rideCount:function(){this.totalCount=this.babyCount+this.adultCount+this.childCount,this.dialog=!1},mounted:function(){var t=this;this.map=this.$utils.map.createMap("map-container",{zoomControl:!1,routeWhileDragging:!1,attributionControl:!1}),this.$utils.map.createTileLayer(this.map,this.OSMUrl,{}),this.map.setView(this.mapInfo[this.siteId].setPoints,this.mapInfo[this.siteId].zoom),this.map.locate({setView:!1,enableHighAccuracy:!0}).on("locationfound",(function(i){t.currentlocation={lat:i.latitude,lon:i.longitude}}))},created:function(){this.siteId=this.$route.params.siteId,this.getStation(),this.setVehicle(),this.createPickerIcons(),this.getTimeTable()},beforeDestroy:function(){clearInterval(this.movingVehicle)},updated:function(){this.totalCount>=1&&this.start.points_idx>=0&&this.end.points_idx>=0?this.callBtn=!0:this.callBtn=!1},watch:{markerData:function(){console.log("here",this.markerData)},vehicle_id:function(){console.log("vehicle_id : ",this.vehicle_id),this.vehicle_id&&!this.movingVehicle?(console.log("현재 운행 차량:",this.vehicle_id),this.movingVehicle=setInterval(this.realTimeVehicle,1e3)):(console.log("siteId ".concat(this.siteId,"에 현재 운행 차량 없음")),this.movingVehicle=null)},start_station_popup:function(){this.start_station_popup&&v&&(v.closePopup(),v=!1)},destination_popup:function(){this.destination_popup&&v&&(v.closePopup(),v=!1)},daegu_timetable_popup:function(){this.daegu_timetable_popup&&v&&(v.closePopup(),v=!1)},currentlocation:function(){for(var t=0;t<this.stationList.length;t++){if(800>u(this.stationList[t].lat,this.stationList[t].lon,this.currentlocation.lat,this.currentlocation.lon)){this.success=!0,this.can=!1;break}this.success=!1,this.can=!0}return this.success},start:function(){console.log("start changed",this.start),this.station_seq=this.start.id,_=this.stationPicker(this.start,this.startIcon,_),this.routePoints.length>0&&m.spliceWaypoints(0,6),this.routePoints=[],-1!=this.end.id&&-1!=this.start.id&&(this.minutes=this.start.stat2sta[this.start.id][this.end.id],this.end.points_idx>this.start.points_idx?this.routePoints=this.points[this.siteId].slice(this.start.points_idx,this.end.points_idx+1):this.routePoints=this.points[this.siteId].slice(this.start.points_idx).concat(this.points[this.siteId].slice(0,this.end.points_idx+1)),this.addRouting(this.routePoints,"#E51973","transparent"))},end:function(){console.log("end changed",this.end),b=this.stationPicker(this.end,this.endIcon,b),this.routePoints.length>0&&m.spliceWaypoints(0,6),this.routePoints=[],-1!=this.start.id&&-1!=this.end.id&&(this.minutes=this.start.stat2sta[this.start.id][this.end.id],this.end.points_idx>this.start.points_idx?this.routePoints=this.points[this.siteId].slice(this.start.points_idx,this.end.points_idx+1):this.routePoints=this.points[this.siteId].slice(this.start.points_idx).concat(this.points[this.siteId].slice(0,this.end.points_idx+1)),this.addRouting(this.routePoints,"#E51973","transparent"))}},methods:{pickStation:function(t){if(this.pickedStation){var i={id:this.pickedStation.id,name:this.pickedStation.name,points_idx:this.pickedStation.points_idx,stat2sta:this.pickedStation.stat2sta};this.pickedStation="",t?(this.start=i,this.destination_popup=!0,this.start_station_popup=!1,this.daegu_timetable_popup=!1):(this.end=i,this.destination_popup=!1)}},addMarker:function(){this.zoomStatus=this.$utils.map.createIcon({iconUrl:s("f036"),iconSize:[12,12]});var t,i=Object(o["a"])(this.stationList);try{for(i.s();!(t=i.n()).done;){var a=t.value,e=this.$utils.map.createMakerByXY(this.map,[a.lat,a.lon],{icon:this.zoomStatus,value:{name:a.name,points_idx:a.points_idx,stat2sta:a.stat2sta,id:a.id}});e.on("click",this.layerClickHandler)}}catch(n){i.e(n)}finally{i.f()}},stationPicker:function(t,i,s){return this.map.removeLayer(s),s=this.$utils.map.createMakerByXY(this.map,[this.points[this.siteId][t.points_idx].lat,this.points[this.siteId][t.points_idx].lon],{icon:i}),s},createPickerIcons:function(){this.startIcon=this.$utils.map.createIcon({iconUrl:s("f1ba"),iconSize:[40,40],iconAnchor:[20,40]}),this.endIcon=this.$utils.map.createIcon({iconUrl:s("1356"),iconSize:[40,40],iconAnchor:[20,40]})},testclick:function(){return alert("testClick"),!1},layerClickHandler:function(t){var i=this;v&&(console.log("exist",v),v.closePopup(),v.unbindPopup()),v=t.target;var s=v.options.value;if(this.start.id==s.id||this.end.id==s.id)console.log("같은 정류장은 선택이 불가능합니다.");else{var a='<p id="stationName" style="font-family: Noto Sans KR; font-style: normal; font-weight: 500; font-size: 0.875rem; margin: 0.875rem 0 7px 0 !important;">'.concat(s.name,'</p>\n                 <form>\n                    <button id="startBtn').concat(s.id,'" type="button" style="font-family: Noto Sans KR; font-style: normal; font-weight: normal; font-size: 0.813rem; padding-bottom: 2px;">출발지로 설정</button> <br>\n                    <button id="endBtn').concat(s.id,'" type="button" style="font-family: Noto Sans KR; font-style: normal; font-weight: normal; font-size: 0.813rem;">도착지로 설정</button>\n                </form>');v.bindPopup(a).openPopup();var e=this.$utils.map.getDomUtil("startBtn".concat(s.id));console.log("marker value: ",s),this.$utils.map.createDomEvent.addListener(e,"click",(function(){i.start=s,v.closePopup(),v.unbindPopup()}));var n=this.$utils.map.getDomUtil("endBtn".concat(s.id));this.$utils.map.createDomEvent.addListener(n,"click",(function(){i.end=s,v.closePopup(),v.unbindPopup()}))}},addRouting:function(t,i,s){m=this.$utils.map.createRouting(this.map,{waypoints:t,serviceUrl:"https://osrmserver.springgo.io/route/v1",addWaypoints:!1,draggableWaypoints:!1,showAlternatives:!1,routeWhileDragging:!1,fitSelectedRoutes:!1,lineOptions:{draggable:!1,styles:[{color:i,weight:5},{color:s,weight:2}]},draggable:!1,autoRoute:!0,show:!1,createMarker:function(){return null}})},addRouting2:function(t,i,s){this.$utils.map.createRouting(this.map,{waypoints:t,serviceUrl:"https://osrmserver.springgo.io/route/v1",addWaypoints:!1,draggableWaypoints:!1,showAlternatives:!1,routeWhileDragging:!1,fitSelectedRoutes:!1,lineOptions:{draggable:!1,styles:[{color:i,weight:6},{color:s,weight:2}]},draggable:!1,autoRoute:!0,show:!1,createMarker:function(){return null}})},getStation:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,d.a.get("/api/stations/").then(function(){var i=Object(n["a"])(regeneratorRuntime.mark((function i(s){var a,e,n,l,r,c,d,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(200!=s.status){i.next=34;break}console.log("getStation :",s),a=s.data,e=-1,n=Object(o["a"])(a),i.prev=5,n.s();case 7:if((l=n.n()).done){i.next=23;break}if(r=l.value,r.site!=t.siteId){i.next=21;break}console.log(t.siteId);case 11:if(!(e++<t.points[t.siteId].length)){i.next=21;break}if(console.log(t.points),t.points[t.siteId][e].lat!=r.lat||t.points[t.siteId][e].lon!=r.lon){i.next=19;break}return r.points_idx=Number(e),r.stat2sta=JSON.parse(r.stat2sta),t.stationList.push(r),console.log("station :",t.stationList),i.abrupt("break",21);case 19:i.next=11;break;case 21:i.next=7;break;case 23:i.next=28;break;case 25:i.prev=25,i.t0=i["catch"](5),n.e(i.t0);case 28:return i.prev=28,n.f(),i.finish(28);case 31:t.stationList=t.stationList.sort((function(t,i){return t.sta_Order<i.sta_Order?-1:1})),console.log("stationList :",t.stationList),t.loading-=1;case 34:c=Object(o["a"])(t.points[t.siteId]);try{for(c.s();!(d=c.n()).done;)u=d.value,u.type%2||t.waypoints2.push({lat:u.lat,lon:u.lon})}catch(h){c.e(h)}finally{c.f()}return t.waypoints2.push(t.waypoints2[0]),i.next=39,t.addMarker();case 39:return i.next=41,t.addRouting2(t.waypoints2,"#fc9eb6","#FFFFFF");case 41:case"end":return i.stop()}}),i,null,[[5,25,28,31]])})));return function(t){return i.apply(this,arguments)}}()).catch((function(i){console.log("station (GET) error: "),t.error=i,console.log(i)}));case 2:case"end":return i.stop()}}),i)})))()},setVehicle:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a,e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.$utils.map.createIcon({iconUrl:s("1951"),iconSize:[32,32]}),i.next=3,t.getVehicle();case 3:e=i.sent,t.vehicle_id=e[0]?e[0].id:null,e.forEach((function(i){t.vehicle[i.id]=t.$utils.map.createMakerByXY(t.map,[i.lat,i.lon],{draggable:!1,icon:a})})),t.loading-=1;case 7:case"end":return i.stop()}}),i)})))()},realTimeVehicle:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.getVehicle();case 2:s=i.sent,s.length&&s.forEach((function(i){t.vehicle[i.id].setLatLng([i.lat,i.lon])}));case 4:case"end":return i.stop()}}),i)})))()},getVehicle:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=[],i.next=3,d.a.get("/api/vehicles/").then((function(i){s=i.data.filter((function(i){return i.site==t.siteId&&i.lat&&i.lon}))})).catch((function(t){return console.log("getvehicle_err",t)}));case 3:return i.abrupt("return",s);case 4:case"end":return i.stop()}}),i)})))()},closePersonDialog:function(){this.dialog=!1,this.babyCount=0,this.adultCount=0,this.childCount=0,this.totalCount=0,this.isDisabled_adult_minus=!0,this.isDisabled_adult_plus=!1,this.isDisabled_child_minus=!0,this.isDisabled_child_plus=!1,this.isDisabled_baby_minus=!0,this.isDisabled_baby_plus=!1},babyDecrement:function(){this.babyCount-=1,this.babyCount<1&&(this.isDisabled_baby_minus=!0,this.babyCount=0,this.babyList=!1),14!=this.babyCount&&(this.isDisabled_adult_plus=!1,this.isDisabled_child_plus=!1,this.isDisabled_baby_plus=!1),this.totalCount=this.babyCount+this.adultCount+this.childCount},adultDecrement:function(){this.adultCount-=1,this.adultCount<1&&(this.isDisabled_adult_minus=!0,this.adultCount=0,this.adultList=!1),14!=this.adultCount&&(this.isDisabled_adult_plus=!1,this.isDisabled_child_plus=!1,this.isDisabled_baby_plus=!1),this.totalCount=this.babyCount+this.adultCount+this.childCount},childDecrement:function(){this.childCount-=1,this.childCount<1&&(this.isDisabled_child_minus=!0,this.childCount=0,this.childList=!1),14!=this.childCount&&(this.isDisabled_adult_plus=!1,this.isDisabled_child_plus=!1,this.isDisabled_baby_plus=!1),this.totalCount=this.babyCount+this.adultCount+this.childCount},babyIncrement:function(){this.totalCount<14?(this.babyCount+=1,this.babyList=!0,this.totalCount=this.babyCount+this.adultCount+this.childCount,(this.babyCount>=14||this.totalCount>=14)&&(this.isDisabled_adult_plus=!0,this.isDisabled_child_plus=!0,this.isDisabled_baby_plus=!0),0!=this.babyCount&&(this.isDisabled_baby_minus=!1)):(this.isDisabled_adult_plus=!0,this.isDisabled_child_plus=!0,this.isDisabled_baby_plus=!0)},adultIncrement:function(){this.totalCount<14?(this.adultList=!0,this.adultCount+=1,this.totalCount=this.babyCount+this.adultCount+this.childCount,(this.adultCount>=14||this.totalCount>=14)&&(this.isDisabled_adult_plus=!0,this.isDisabled_child_plus=!0,this.isDisabled_baby_plus=!0),0!=this.adultCount&&(this.isDisabled_adult_minus=!1)):(this.isDisabled_adult_plus=!0,this.isDisabled_child_plus=!0,this.isDisabled_baby_plus=!0)},childIncrement:function(){this.totalCount<14?(this.childList=!0,this.childCount+=1,this.totalCount=this.babyCount+this.adultCount+this.childCount,(this.childCount>=14||this.totalCount>=14)&&(this.isDisabled_adult_plus=!0,this.isDisabled_child_plus=!0,this.isDisabled_baby_plus=!0),0!=this.childCount&&(this.isDisabled_child_minus=!1)):(this.isDisabled_adult_plus=!0,this.isDisabled_child_plus=!0,this.isDisabled_baby_plus=!0)},rideCount:function(){this.totalCount=this.babyCount+this.adultCount+this.childCount,this.dialog=!1,this.totalCount>14&&alert("초과입니다.")},getTimeTable:function(){var t=this,i="admin@aspringcloud.com",s="spring#007";d.a.get("https://tasioapi.springgo.io/api/rounds/",{headers:{Authorization:"Basic "+btoa(i+":"+s)}}).then((function(i){console.log("response :",i);var s={id:10,time_start:"19:00:00",orinary_count:10,site:2},a=i.data.results;a.push(s);var e=a.length;a=a.sort((function(t,i){return t.id<i.id?-1:1}));for(var n=0;n<e;n++)t.timeTable.push(a[n].time_start.substring(0,5));console.log("timeTable:",t.timeTable)})).catch((function(t){return console.log("error",t)}))},selectRoundingBtn:function(t,i){this.hour=this.timestamp.getHours(),this.min=this.timestamp.getMinutes(),this.hour=this.hour.toString(),this.min=this.min.toString(),this.hour<10?this.hour="0"+this.hour:this.hour,this.min<10?this.min="0"+this.min:this.min,console.log("realTimereplace:",this.hour+this.min),console.log("item :",t),console.log("index :",i),t.replace(":","")<this.hour+this.min?(console.log("운행 시간이 종료된 회차입니다!!!!!!"),this.rule=!1,this.ok=!0):(console.log("운행 시간이 가능!!!!!!"),this.rule=!0,this.ok=!1,this.ordinary=i+1)},swapDestination:function(){if(-1!=this.start.id||-1!=this.end.id){var t=[this.end,this.start];this.start=t[0],this.end=t[1]}},getLocation:function(){var t=this;this.getLocationLoading=!0;var i=0;this.map.locate({setView:!0,watch:!0,enableHighAccuracy:!0}).on("locationfound",(function(s){if(t.currentlocation={lat:s.latitude,lon:s.longitude},1==t.compareLocatoin()){if(i=0,t.can=!1,t.res=!1,t.usermarker)return t.usermarker.setLatLng(s.latlng);t.getLocationLoading=!1,s.target._locateOptions.setView=!1;var a=t.$utils.map.createDiv({html:"<div id='current_container'><div class='current_item'></div><div class='current_item2'></div><div class='current_circle' style='animation-delay: -3s'></div><div class='current_circle' style='animation-delay: -2s'></div><div class='current_circle' style='animation-delay: -1s'></div><div class='current_circle' style='animation-delay: 0s'></div></div>",iconSize:[0,0]});return t.usermarker=t.$utils.map.createMakerByXY(t.map,[s.latitude,s.longitude],{icon:a})}i=0,t.can=!0,t.getLocationLoading=!1,t.res=!0})).on("locationerror",(function(s){if(console.log("Location error:",s),t.getLocationLoading=!1,0==i&&t.$toasted.error("사용자의 위치를 받아올 수 없습니다.",{position:"top-center"}).goAway(1e3),i+=1,t.usermarker)return t.map.removeLayer(t.usermarker),t.usermarker=null}))},stopLocation:function(){this.res=!0,this.map.stopLocate(),this.map.setView(this.mapInfo[this.siteId].setPoints,this.mapInfo[this.siteId].zoom),null==this.usermarker&&void 0==this.usermarker||(this.map.removeLayer(this.usermarker),this.usermarker=null),console.log("stopLocation usermarker",this.usermarker)},compareLocatoin:function(){this.success=!1;for(var t=0;t<this.stationList.length;t++){if(800>u(this.stationList[t].lat,this.stationList[t].lon,this.currentlocation.lat,this.currentlocation.lon)){this.success=!0;break}this.success=!1}return this.success},goBackSite:function(){this.can=!1,this.stopLocation()},requestPay:function(){console.log("this.user.data.phoneNumber :",this.user.data.phoneNumber),console.log("this.user.data.uid :",this.user.data.uid),console.log("this.adultCount :",this.adultCount),console.log("this.childCount :",this.childCount),console.log("this.babyCount :",this.babyCount),console.log("this.ordinary :",this.ordinary),console.log("this.station_seq :",this.station_seq),console.log("this.siteId :",this.siteId),console.log("this.start.id :",this.start.id),console.log("this.end.id:",this.end.id),console.log("this.start.name :",this.start.name),console.log("this.start.points_idx :",this.start.points_idx),console.log("this.end.points_idx :",this.end.points_idx),console.log("this.count:",this.count),console.log("this.minutes :",this.minutes),console.log("this.vehicle_id :",this.vehicle_id);var t=window.IMP;t.init("imp80546815"),t.request_pay({pg:"mobilians.617160000106",pay_method:"card",merchant_uid:"mid_"+(new Date).getTime()+this.user.data.uid,name:"타시오 결제",amount:this.totalPayment,buyer_email:"",buyer_name:"",buyer_tel:this.getPhoneNumber,buyer_addr:"",buyer_postcode:"",custom_data:{imp_uid:this.user.data.uid,adult_count:this.adultCount,child_count:this.childCount,baby_count:this.babyCount,ordinary:this.ordinary,station_seq:this.station_seq,destination:this.destination,ticket_type:this.ticket_type,siteId:this.siteId},m_redirect_url:"https://ondemand.springgo.io:100/tasio-288c5/us-central1/app/api/payment/put?site=".concat(this.siteId,"&start=").concat(this.start.id,"&end=").concat(this.end.id,"&startName=").concat(this.start.name,"&endName=").concat(this.end.name,"&station_startId=").concat(this.start.points_idx,"&station_endId=").concat(this.end.points_idx,"&count=").concat(this.totalCount,"&minutes=").concat(this.minutes,"&vehicle_id=").concat(this.vehicle_id)})}}},f=g,C=(s("738b"),s("21e6"),s("2877")),y=s("6544"),x=s.n(y),k=s("8336"),w=s("b0af"),S=s("99d9"),L=s("a523"),D=s("169a"),I=s("ce7e"),A=s("0e8f"),P=s("132d"),F=s("a722"),z=s("8860"),V=s("da13"),B=s("5d23"),E=s("1baa"),R=s("a797"),M=s("490a"),j=s("0fd9"),T=s("71d9"),O=Object(C["a"])(f,a,e,!1,null,"63a1575c",null);i["default"]=O.exports;x()(O,{VBtn:k["a"],VCard:w["a"],VCardActions:S["a"],VCardText:S["c"],VContainer:L["a"],VDialog:D["a"],VDivider:I["a"],VFlex:A["a"],VIcon:P["a"],VLayout:F["a"],VList:z["a"],VListItem:V["a"],VListItemContent:B["a"],VListItemGroup:E["a"],VListItemTitle:B["c"],VOverlay:R["a"],VProgressCircular:M["a"],VRow:j["a"],VToolbar:T["a"]})},bb1d:function(t,i,s){},e235:function(t,i,s){t.exports=s.p+"img/arrow-icon.f8a6efd8.svg"},f036:function(t,i,s){t.exports=s.p+"img/station_icon.fa93d5e7.svg"},f1ba:function(t,i,s){t.exports=s.p+"img/start-icon.69956c04.svg"}}]);
//# sourceMappingURL=Site.7f0bf190.js.map